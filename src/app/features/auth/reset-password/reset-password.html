<form class="reset-card" (submit)="onSubmit($event)">
  <h2>Reset Password</h2>
  <p class="subtitle">Enter your new password below</p>

  @if (!resetToken()) {
  <div class="error-message" role="alert">
    {{ errorMessage() }}
  </div>
  <p class="back-link">
    <a routerLink="/forgot-password">Request a new reset link</a>
  </p>
  } @else {
  <label>
    <span>New Password</span>
    <input type="password" pInputText placeholder="Enter new password" [field]="resetForm.password" />
    @if (resetForm.password().touched() && resetForm.password().invalid()) {
    <ul class="error-list">
      @for (error of resetForm.password().errors(); track error) {
      <li>{{ error.message }}</li>
      }
    </ul>
    }
  </label>

  <label>
    <span>Confirm Password</span>
    <input type="password" pInputText placeholder="Confirm new password" [field]="resetForm.confirmPassword" />
    @if (resetForm.confirmPassword().touched() && resetForm.confirmPassword().invalid()) {
    <ul class="error-list">
      @for (error of resetForm.confirmPassword().errors(); track error) {
      <li>{{ error.message }}</li>
      }
    </ul>
    }
  </label>

  @if (errorMessage()) {
  <div class="error-message" role="alert">
    {{ errorMessage() }}
  </div>
  }

  @if (successMessage()) {
  <div class="success-message" role="alert">
    {{ successMessage() }}
  </div>
  }

  <app-button
    label="Reset Password"
    type="submit"
    variant="primary"
    [disabled]="!resetForm().valid() || isSubmitting()"
    [loading]="isSubmitting()"
  ></app-button>

  <p class="back-link">
    <a routerLink="/login">‚Üê Back to Sign In</a>
  </p>
  }
</form>


