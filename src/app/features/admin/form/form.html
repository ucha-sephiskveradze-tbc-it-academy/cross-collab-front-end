<app-header></app-header>
<div class="event-page" [formGroup]="formService.form">

    <!-- LEFT COLUMN -->
    <div class="left">

        <!-- BASIC INFO -->
        <p-card class="section">
            <ng-template pTemplate="title">Basic Information</ng-template>

            <div class="field">
                <label>Event Title</label>
                <input pInputText formControlName="title" placeholder="Enter event title" />
            </div>

            <div class="field">
                <label>Category</label>
                <p-select formControlName="category" [options]="categoryOptions" optionLabel="label" optionValue="value"
                    placeholder="Select a category" />
            </div>

            <div class="field">
                <label>Description</label>
                <textarea pInputTextarea rows="4" formControlName="description"
                    placeholder="Provide a detailed description"></textarea>
            </div>
        </p-card>

        <!-- DATE & TIME -->
        <p-card class="section">
            <ng-template pTemplate="title">Date & Time</ng-template>

            <div class="grid-2">
                <div class="field">
                    <label>Date</label>
                    <p-datePicker formControlName="date" showIcon />
                </div>

                <div class="field">
                    <label>Registration Deadline</label>
                    <p-datePicker formControlName="deadline" showIcon />
                </div>
            </div>

            <div class="grid-2">
                <div class="field">
                    <label>Start Time</label>
                    <p-datePicker timeOnly hourFormat="24" formControlName="startTime" />
                </div>

                <div class="field">
                    <label>End Time</label>
                    <p-datePicker timeOnly hourFormat="24" formControlName="endTime" />
                </div>
            </div>
        </p-card>

        <!-- LOCATION -->
        <p-card class="section">
            <ng-template pTemplate="title">Location</ng-template>

            <div class="location-types">
                @for (item of locationOptions; track item) {
                <button pButton type="button" class="p-button-outlined button"
                    [outlined]="formService.form.value.locationType !== item.value"
                    (click)="formService.form.patchValue({ locationType: item.value })">
                    {{ item.label }}
                </button>

                }
            </div>

            <div class="grid-2">
                <input pInputText placeholder="Venue name" formControlName="venue" />
                <input pInputText placeholder="City" formControlName="city" />
            </div>
        </p-card>

        <!-- CAPACITY -->
        <p-card class="section">
            <ng-template pTemplate="title">Capacity & Registration</ng-template>

            <div class="grid-2">
                <p-inputNumber formControlName="capacity" placeholder="Max capacity" showButtons />
                <p-inputNumber formControlName="minCapacity" placeholder="Minimum participants" />
            </div>

            <div class="flex">
                <p-checkbox binary formControlName="waitlist" label="Enable waitlist">
                </p-checkbox>
                <h2>Enable Waitlist</h2>
            </div>
        </p-card>

        <!-- NOTIFICATIONS -->
        <p-card class="section">
            <ng-template pTemplate="title">Notification Settings</ng-template>

            <p-checkbox binary label="Registration confirmation" />
            <p-checkbox binary label="24-hour reminder" />
            <p-checkbox binary label="1-hour reminder" />
        </p-card>

    </div>

    <!-- RIGHT COLUMN -->
    <div class="right">

        <!-- IMAGE -->
        <p-card class="section">
            <ng-template pTemplate="title">Event Image</ng-template>

            <div class="upload-box">
                <i class="pi pi-image"></i>
                <button pButton label="Upload Image" outlined></button>
            </div>
        </p-card>

        <!-- PREVIEW -->
        <p-card class="section preview">
            <ng-template pTemplate="title">Event Preview</ng-template>

            <div class="preview-row">
                <span>Category</span>
                <span>{{ formService.form.value.category || 'Not set' }}</span>
            </div>

            <div class="preview-row">
                <span>Date</span>
                <span>{{ formService.form.value.date || 'Not set' }}</span>
            </div>

            <div class="preview-row">
                <span>Location</span>
                <span>{{ formService.form.value.locationType || 'Not set' }}</span>
            </div>

            <div class="preview-row">
                <span>Status</span>
                <span class="status">Draft</span>
            </div>
        </p-card>

        <!-- ACTIONS -->
        <button pButton label="Publish Event" class="publish" [disabled]="formService.form.invalid"></button>

        <button pButton label="Cancel" severity="secondary" outlined></button>

    </div>

</div>

<app-footer></app-footer>